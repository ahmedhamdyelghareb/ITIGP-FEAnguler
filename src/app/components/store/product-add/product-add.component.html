<div class="row">
  <div class="col-md-6">


<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2">
  New Product
</button>


<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add product</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <form #productForm="ngForm"  (ngSubmit)="onAddNewProduct(productForm.value)">
          <div class="form-group">
            <label for="title">Title</label>

        <form #productForm="ngForm"  >
          <div class="form-group"><label for="title">Title</label>
            <input #title="ngModel" [(ngModel)]="Product.title"  name="title" id="title" type="text" class="form-control" required>
          <div class="alert alert-danger" *ngIf="title.touched && title.invalid">
            Title is required
          </div>
          </div>

          <div class="form-group">
            <label for="price">Price</label>


            <input #price="ngModel" [(ngModel)]="Product.price"  name="price" type="text" class="form-control" aria-label="Amount (to the nearest dollar)" required [min]="0">


            <input #title="ngModel" ngModel name="title" id="title" type="text" class="form-control" required>
            <div class="alert alert-danger" *ngIf="title.touched && title.invalid">
                Title is required
            </div>
        </div>
        <div class="form-group">
            <label for="price">Price</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <div class="input-group-text">$</div>
                </div>
                <input #price="ngModel" ngModel name="price" id="price" type="number" class="form-control" required
                    [min]="0" number>
            </div>
            <div class="alert alert-danger" *ngIf="price.touched && price.invalid">
                <div *ngIf="price.errors.number">Price must be a NUMBER and be 0 or higher</div>
                <div *ngIf="price.errors.required">Price is required</div>
            </div>
        </div>
        <div class="form-group">
            <label for="description">Product Description</label>
            <textarea class="form-control" rows="3" #description="ngModel" ngModel name="description" required [maxlength]=160></textarea>
            <small>Max 160 Characters</small>
            <small class="float-right">{{description.value?.length || 0}}/160</small>
            <div class="alert alert-danger" *ngIf="description.touched && description.invalid">
                <div *ngIf="description.errors.required">Product Description is required</div>
            </div>
        </div>
        <div class="form-group">
            <div>
                <button class="pickImg btn btn-secondary" type="button" (click)="filePicker.click()">Upload Image</button>
                <input type="file" #filePicker (change)="onImagePicked($event)"
                accept="image/png, image/jpeg"
                required ngModel name="fileImage">
            </div>
        </div>

        <button type="submit" class="btn btn-primary float-right"
        [disabled]="productForm.invalid" ngbTooltip="Fill all Fields first"
        >Save</button>




          <!-- <div class="form-group"><label for="imageUrl"> Image</label>
            <input #imageUrl="ngModel" [(ngModel)]="Product.imageUrl"  name="imageUrl" id="image" type="file" (change)="onFileSelected($event)" class="form-control" required >

            <button type="button" (click)="onUpload()">upload</button>

          </div> -->



           <!-- <div class="form-group">

            <input type="file"  name="imageUrl" ngModel  (change)="onFileSelected($event)" />
        </div>

        <div *ngIf="fileUploadProgress">

          <h3>Choose File</h3>
          <div class="form-group">
            <input type="file" name="image" (change)="fileProgress($event)" />
        </div>
        <!-- <div *ngIf="fileUploadProgress">

            Upload progress: {{ fileUploadProgress }}
        </div>
        <div class="image-preview mb-3" *ngIf="previewUrl">
            <img [src]="previewUrl" height="300" />

        </div>

        <div class="mb-3" *ngIf="uploadedFilePath">
            {{uploadedFilePath}}
        </div>

          <div class="form-group"><label >Decription</label>
            <input   formControlName="description"  id="description" type="text" class="form-control" required>
            <!-- <div class="alert alert-danger" *ngIf="description.touched && description.invalid">
              Description is required
            </div> -->
          <!-- </div>
          <div class="form-group"><label for="amount">Amount</label>
            <input     formControlName="amount" id="amount" type="text" class="form-control" required>
            <!-- <div class="alert alert-danger" *ngIf="amount.touched && amount.invalid">
              Amount is required
            </div>-->
          <!-- </div>
          <div>

            <button class="btn-primary" type="submit" >Save</button>
          </div> -->
        </form>
            <div class="modal-footer">

        </div> -->

        <!-- <div class="mb-3" *ngIf="uploadedFilePath">
            {{uploadedFilePath}}
        </div> -->

          <div class="form-group"><label for="description">Decription</label>
            <input #description="ngModel"   name="description"[(ngModel)]="Product.description"  id="description" type="text" class="form-control" required>
            <div class="alert alert-danger" *ngIf="description.touched && description.invalid">
              Description is required
            </div>
          </div>
          <div class="form-group"><label for="amount">Amount</label>
            <input #amount="ngModel" [(ngModel)]="Product.amount"  name="amount" id="amount" type="text" class="form-control" required>
            <div class="alert alert-danger" *ngIf="amount.touched && amount.invalid">
              Amount is required
            </div>
          </div>
          <div>

            <button class="btn-primary" type="submit" (click)="onAddNewProduct(productForm)">Save</button>
          </div>
        </form>
            <div class="modal-footer">
              <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->


            </div>
      </div>
    </div>
  </div>
</div>

  </div>
</div>